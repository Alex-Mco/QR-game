<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dice Roller</title>
</head>

<body>
    <p id="placeholder"></p>
    <img id="img_greenD6" src="" width="30%" height="auto"></br>
    <img id="img_redD6" src="" width="30%" height="auto"></br>
    <button onclick="clickEvent()">Attack! [d6 vs d6]</button>
    <!-- I could only get it to work in-line, pls don't hurt me, idr JS anymore :( -->
    <script>
        document.getElementById("img_greenD6").src = "greenD6_1.png";
        document.getElementById("img_redD6").src = "redD6_1.png";
        var rndNum;
        var rndNum_prev0;
        var rndNum_prev1;
        var rndNum2;
        var rndNum2_prev0;
        var rndNum2_prev1;
        function clickEvent(){
            var limit = 12; //number of rolls before output
            for (var i=0;i<=limit;i++) {
            (function(ind) {
                setTimeout(function(){
                    //Player
                    rndNum = Math.floor(Math.random() * 6) + 1;
                    while (rndNum == rndNum_prev0 || rndNum == rndNum_prev1) { //track the last two dice rolls...
                        rndNum = Math.floor(Math.random() * 6) + 1; //...and prevent the current roll from landing on them
                    }
                    rndNum_prev1 = rndNum_prev0; //fake random looks more random than real random: AKA the iPod Shuffle Dilemma
                    rndNum_prev0 = rndNum;
                    if(rndNum == 1){
                    document.getElementById("img_greenD6").src = "greenD6_1.png";
                    }
                    if (rndNum == 2){
                        document.getElementById("img_greenD6").src = "greenD6_2.png";
                    }
                    if (rndNum == 3){
                        document.getElementById("img_greenD6").src = "greenD6_3.png";
                    }
                    if (rndNum == 4){
                        document.getElementById("img_greenD6").src = "greenD6_4.png";
                    }
                    if (rndNum == 5){
                        document.getElementById("img_greenD6").src = "greenD6_5.png";
                    }
                    if (rndNum == 6){
                        document.getElementById("img_greenD6").src = "greenD6_6.png";
                    }
                    if(ind == limit){
                        rndNum = Math.floor(Math.random() * 6) + 1;
                    }
                    //Prey
                    rndNum2 = Math.floor(Math.random() * 6) + 1;
                    while (rndNum2 == rndNum2_prev0 || rndNum2 == rndNum2_prev1) { //track the last two dice rolls...
                        rndNum2 = Math.floor(Math.random() * 6) + 1; //...and prevent the current roll from landing on them
                    }
                    rndNum2_prev1 = rndNum2_prev0; //fake random looks more random than real random: AKA the iPod Shuffle Dilemma
                    rndNum2_prev0 = rndNum2;
                    if(rndNum2 == 1){
                    document.getElementById("img_redD6").src = "redD6_1.png";
                    }
                    if (rndNum2 == 2){
                        document.getElementById("img_redD6").src = "redD6_2.png";
                    }
                    if (rndNum2 == 3){
                        document.getElementById("img_redD6").src = "redD6_3.png";
                    }
                    if (rndNum2 == 4){
                        document.getElementById("img_redD6").src = "redD6_4.png";
                    }
                    if (rndNum2 == 5){
                        document.getElementById("img_redD6").src = "redD6_5.png";
                    }
                    if (rndNum2 == 6){
                        document.getElementById("img_redD6").src = "redD6_6.png";
                    }
                    if(ind == limit){
                        rndNum2 = Math.floor(Math.random() * 6) + 1;
                    }
                }, (140 * ind)); //speed of rolls
            })(i);
            }
        }
    </script>
</body>

</html>